<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title>焖肉面 - puzzle hunt工具集</title>
		<style>.capsule{background-color:#9eddff;width:100%;height:20px;border-radius:10px;text-align:center;margin:2px;cursor:pointer;margin:5px}.capsule:hover{font-weight:700;-webkit-transform:translateX(-3px);transform:translateX(-3px);transition:.5s ease}.content-area{height:fit-content}.container{width:50%}.content-area textarea{background-color:#f8f8f8;font-size:16px;margin:10px}.help-content{font-size:12px;color:#adabab}#word-search-content{width:40%;height:400px}#footer,h1{margin:40px;display:flex;justify-content:space-around}.face-container{width:fit-content;display:flex;width:100%;justify-content:space-around}#expand{width:fit-content;margin:10px}.face{height:200px;width:200px}.cube-block{background-color:gray;vertical-align:bottom;border:1px solid}#rubik-cube{border:5px solid}#piano{display:flex}.pianoWhiteKey{width:25px;height:120px;border:1px solid;margin-right:-1px;display:flex;flex-direction:column;justify-content:flex-end}.pianoBlackArea{position:absolute;display:flex;margin-left:15px}.pianoBlackKey{width:20px;height:80px;display:flex;flex-direction:column;justify-content:flex-end;border:1px solid;background-color:#000;color:#fff}.blind-dot{border-radius:50%;width:30px;height:30px;border:1px solid;margin:10px 2px 2px 10px}#blind-letter{font-size:20px;margin-left:40px;margin-top:20px}</style>
		<link rel="stylesheet" href="./static/nonogram.css">
		<link rel="stylesheet" href="./static/bootstrap.min.css">
	<script src="index-8a06c4aa.js"></script></head>
	<body>
		<h1>焖肉面- puzzle hunt工具集</h1>
		<div class="container">
			<div id="substitution-container">
				<div id="substitution-capsule" class="capsule" data-expend="true">单表替换</div>
				<div id="substitution-main" class="content-area">
					<form role="form">
						<div class="form-group">
							<div>单表暴力</div>
							<textarea id="content" class="form-control" rows="20" placeholder="请输入单表密文"></textarea>
							<div>
								<button id="substitution-solver-btn" type="button">单表暴力</button>
							</div>
						</div>
					</form>
					<div>以下为可能结果:</div>
					<div id="substitution-answer"></div>
				</div>
			</div>
			<div id="nonogram-container">
				<div id="nonogram-capsule" class="capsule" data-expend="true">nonogram</div>
				<div id="nonogram-main" class="content-area" style="display:none">
					<form role="form">
						<div class="form-group">
							<label for="name">行</label>
							<input id="row" value="5" onchange="ModifiedCb()">
							<label for="name">列</label>
							<input id="column" value="5" onchange="ModifiedCb()">
						</div>
					</form>
					<div id="playground">
						<div id="upper-bar"></div>
						<div id="bottom">
							<div id="left-bar"></div>
							<div id="board"></div>
						</div>
					</div>
					<button onclick="solve()">solve</button>
				</div>
			</div>
			<div id="word-container">
				<div id="word-capsule" class="capsule" data-expend="true">找单词</div>
				<div id="word-main" class="content-area" style="display:none">
					<textarea id="one-word-content" class="form-control" placeholder="请输入要查询的单词"></textarea>
					<div id="method-select">
						<select onchange="changeMethod()" id="find-method">
							<option value="findByWildcard">通配符</option>
							<option value="findByRegularExpression">正则</option>
							<option value="contains">包含</option>
							<option value="findSimilarity">寻找相似单词</option>
						</select>
					</div>
					<div id="help-content" class="help-content"></div>
					<button id="find-words">solve</button>
					<div>以下为可能结果:</div>
					<div id="words-list"></div>
				</div>
			</div>
			<div id="word-search-container">
				<div id="word-search-capsule" class="capsule" data-expend="true">Word Search</div>
				<div id="word-search-main" class="content-area" style="display:none">
					<div class="help-content">Word Search是一个找词游戏，给出一个n*m的字母方阵，要求在横竖斜的方向上找到英语单词</div>
					<div class="help-content">在下面文本框内填入要word search的字母方阵，例如</div>
					<div class="help-content">abc</div>
					<div class="help-content">ddf</div>
					<div class="help-content">ghi</div>
					<div>
						<textarea id="word-search-content" class="form-control" placeholder="请输出字母方阵,用空行隔开"></textarea>
						<button onclick="wordSearch()">Solver</button>
					</div>
					<div id="word-search-ansers" style="display:flex">
						<div id="word-search-ansers-list"></div>
						<div id="word-search-ansers-position" style="margin-left:40px"></div>
					</div>
				</div>
			</div>
			<div id="rubik-cube-container">
				<div id="rubik-cube-capsule" class="capsule" data-expend="true">魔方</div>
				<div id="rubik-cube-main" class="content-area" style="display:none">
					<div class="help-content">请拖动魔方观看所有面:</div>
					<canvas id="rubik-cube" height="300px" width="300px"></canvas>
					<div>
						<div>顺时针</div>
						<button onclick="window.rubicCube.front(1)">前面(F)</button>
						<button onclick="window.rubicCube.up(1)">顶面(U)</button>
						<button onclick="window.rubicCube.back(-1)">背面(B)</button>
						<button onclick="window.rubicCube.bottom(-1)">底面(D)</button>
						<button onclick="window.rubicCube.left(1)">左边(L)</button>
						<button onclick="window.rubicCube.right(-1)">右面(R)</button>
					</div>
					<div>
						<div>逆时针</div>
						<button onclick="window.rubicCube.front(-1)">前面(F')</button>
						<button onclick="window.rubicCube.up(-1)">顶面(U')</button>
						<button onclick="window.rubicCube.back(1)">背面(B')</button>
						<button onclick="window.rubicCube.bottom(1)">底面(D')</button>
						<button onclick="window.rubicCube.left(-1)">左边(L')</button>
						<button onclick="window.rubicCube.right(1)">右面(R')</button>
					</div>
					<br>
					<div class="help-content">在下面魔方展开图中可用鼠标绘制任意图案颜色(注:画笔颜色既可以是颜色英文，例如red, blue, orange, 也可是#开头的RGB,例如#FFABCD)</div>
					<label>画笔颜色</label><input id="penColor" value="black">
					<label>画笔粗细</label><input id="penWidth" value="3">
					<div id="expand"></div>
				</div>
			</div>
			<div id="music-container">
				<div id="music-capsule" class="capsule" data-expend="true">音乐</div>
				<div id="music-main" class="content-area" style="display:none">
					<div id="piano">
						<div onclick="playSound(130.81,2e3)" class="pianoWhiteKey">C3</div>
						<div onclick="playSound(146.83,2e3)" class="pianoWhiteKey">D3</div>
						<div onclick="playSound(164.81,2e3)" class="pianoWhiteKey">E3</div>
						<div onclick="playSound(174.61,2e3)" class="pianoWhiteKey">F3</div>
						<div onclick="playSound(196,2e3)" class="pianoWhiteKey">G3</div>
						<div onclick="playSound(220,2e3)" class="pianoWhiteKey">A3</div>
						<div onclick="playSound(246.94,2e3)" class="pianoWhiteKey">B3</div>
						<div onclick="playSound(261.63,2e3)" class="pianoWhiteKey">C4</div>
						<div onclick="playSound(293.66,2e3)" class="pianoWhiteKey">D4</div>
						<div onclick="playSound(329.63,2e3)" class="pianoWhiteKey">E4</div>
						<div onclick="playSound(349.23,2e3)" class="pianoWhiteKey">F4</div>
						<div onclick="playSound(392,2e3)" class="pianoWhiteKey">G4</div>
						<div onclick="playSound(440,2e3)" class="pianoWhiteKey">A4</div>
						<div onclick="playSound(493.88,2e3)" class="pianoWhiteKey">B4</div>
						<div class="pianoBlackArea">
							<div class="pianoBlackKey">C#</div>
							<div class="pianoBlackKey">D#</div>
						</div>
					</div>
				</div>
			</div>
			<div id="blind-container">
				<div id="blind-capsule" class="capsule" data-expend="true">盲文&旗语</div>
				<div id="blind-main" class="content-area" style="display:none">
					<div id="demo-blind-letter" style="margin-right:5px">
						<div style="display:flex">
							<div>
								<div class="blind-dot" data-index="0"></div>
								<div class="blind-dot" data-index="1"></div>
								<div class="blind-dot" data-index="2"></div>
							</div>
							<div>
								<div class="blind-dot" data-index="3"></div>
								<div class="blind-dot" data-index="4"></div>
								<div class="blind-dot" data-index="5"></div>
							</div>
						</div>
						<div id="blind-letter"></div>
					</div>
					<button onclick="confirmBlind()" style="margin:20px">确认</button>
					<div id="history-blind-area" style="display:flex"></div>
				</div>
			</div>
		</div>
		<div id="footer"> power by -- philippica (Contact me: philippicapyj@gmail.com)</div>

		<script src="./static/jquery.min.js"></script>
		<script>$(".capsule").click(e=>{const t=e.target,l=$(t.parentElement.lastElementChild);l.is(":visible")?l.hide("fast","linear"):l.show("fast","linear")}),$("#rubik-cube-capsule").click(e=>{if(!window.rubicCube){const e=initExpand(),t=document.getElementById("rubik-cube"),l=t.getContext("2d");window.rubicCube=new Solver.RubikCubeStage(l,t.width,t.height,e)}}),$("#substitution-solver-btn").click((function(){var e=$("#content").val();console.info(e),plaintext=(new Solver.SubstitutionSolver).substituteSolver(e),$("#substitution-answer").empty(),plaintext.length;for(let e=0;e<Math.min(plaintext.length,100);e++)$("#substitution-answer").append(`<div><b>${plaintext[e]}</b></div>`)}));let columnArea=[],rowArea=[];const setTile=(e,t,l)=>{console.info(e,t,l),2===l&&$(`#cell-${e}-${t}`).css("background-color","white"),1===l&&$(`#cell-${e}-${t}`).css("background-color","black")},solve=()=>{let e=0;for(let t of columnArea)for(let l of t)e+=l;let t=0;for(let e of rowArea)for(let l of e)t+=l;t==e?plaintext=(new Solver.Nonogram).nonogramSolver(columnArea,rowArea,setTile):alert(`左半部分的和为${t}, 右半部分的和为${e}， 两者不相等，检查一下`)},changeInput=e=>{const t=parseInt(e.target.innerText);if(e.data&&t>0){const l=e.target.dataset;console.info(l);const o=parseInt(l.idx),n=parseInt(l.col),a=parseInt(l.row);"col"===l.type&&o===columnArea[n].length?(columnArea[n].push(t),console.info(columnArea),$("#col-"+l.col).prepend(`<div id="col-cell-${l.col}-${o+1}" data-type="col" data-col=${l.col} data-idx=${o+1} contenteditable="true" oninput="changeInput(event)" class="col-input">0</div>`)):"row"===l.type&&o===rowArea[a].length?(rowArea[a].push(t),$("#row-"+l.row).prepend(`<div id="row-cell-${l.row}-${o+1}" data-type="row" data-row=${l.row} data-idx=${o+1} contenteditable="true" oninput="changeInput(event)" class="row-input">0</div>`),console.info(rowArea)):"row"===l.type?rowArea[a][o]=t:columnArea[n][o]=t}},ModifiedCb=()=>{let e=parseInt($("#column").val()),t=parseInt($("#row").val());columnArea=[],rowArea=[];for(let t=0;t<e;t++)columnArea.push([]);for(let e=0;e<t;e++)rowArea.push([]);$("#upper-bar").empty(),$("#left-bar").empty(),$("#board").empty();for(let t=0;t<e;t++)$("#upper-bar").append(`<div id="col-${t}" class="col-container"></div>`),$("#col-"+t).append(`<div id="col-cell-${t}-0" data-type="col" data-col=${t} data-idx=0 contenteditable="true" oninput="changeInput(event)" class="col-input">0</div>`);for(let l=0;l<t;l++){$("#left-bar").append(`<div id="row-${l}" class="row-container"></div>`),$("#row-"+l).append(`<div id="row-cell-${l}-0" contenteditable="true" data-type="row" data-row=${l} data-idx=0 oninput="changeInput(event)" class="row-input">0</div>`),$("#board").append(`<div id="row-${l}" class="row-board"></div>`);for(let t=0;t<e;t++)$("#board #row-"+l).append(`<div id="cell-${l}-${t}" class="cell"></div>`)}};ModifiedCb();const solver=new Solver.OneWord,oneWordHelpContent={findByWildcard:"当前是通配符模式 - 你可以使用#表示一个单词或者*表示多个单词 例如 bo##ke*r 可以匹配到bookkeeper",findByRegularExpression:"当前是正则表达式模式 - 如果你熟悉正则表达式，那它将会是一个非常强大的工具 例如^[abcd][ef].*[aeiou]$ 能够搜到第一个字母为abcd中一个，第二个字母为ef中一个，并且以元音结尾的所有单词",contains:"当前是包含模式 - 能够搜出所有包含这些字母的单词，例如abbccc会找到所有包含一个a两个b和三个c的单词",findSimilarity:"当前是相似度模式-给出单词找到与它相想的单词，两个词相似度即编辑距离，如果能通过一次添加一个字母，替换一个字母或删除一个字母能从一个单词变成另一个单词，那它们的相似度为1"};let method="findByWildcard";$("#help-content").text(oneWordHelpContent[method]);const changeMethod=()=>{const e=$("#find-method").val();method=e,"findSimilarity"===method?$("#method-select").append("<input id='similarityDegree' placeholder='相似度' value='1'/>"):$("#similarityDegree").length>0&&$("#similarityDegree").remove(),$("#help-content").text(oneWordHelpContent[method])};$("#find-words").click((function(){var e=$("#one-word-content").val();let t;if("findSimilarity"===method){const l=parseInt($("#similarityDegree").val());t=(new Solver.OneWord)[method].bind(solver)(e,l)}else t=(new Solver.OneWord)[method].bind(solver)(e);$("#words-list").empty();for(let e=0;e<Math.min(t.length,1e3);e++)$("#words-list").append(`<div>${t[e]}</div>`)})),wordSearch=()=>{var e=$("#word-search-content").val();console.info(e);const t=(new Solver.WordSearch).buildMatrix(e),l=(new Solver.WordSearch).wordSearch(t);l.sort((e,t)=>t.word.length-e.word.length);for(let e of l){let t="",l="";1===e.dy?t="右":-1===e.dy&&(t="左"),1===e.dx?l="下":-1===e.dx&&(l="上"),$("#word-search-ansers-list").append(`<div>${e.word}</div>`),$("#word-search-ansers-position").append(`<div>出现在第${e.x+1}行，第${e.y+1}列，向${t}${l}方向</div>`)}},initExpand=()=>{const e=[];for(let e=0;e<4;e++)$("#expand").append(`<div id="expand-${e}" class="face-container"></div>`);$("#expand-0").append('<div id="face-0" class="face"></div>'),$("#expand-1").append('<div id="face-1" class="face"></div>'),$("#expand-1").append('<div id="face-2" class="face"></div>'),$("#expand-1").append('<div id="face-3" class="face"></div>'),$("#expand-2").append('<div id="face-4" class="face"></div>'),$("#expand-3").append('<div id="face-5" class="face"></div>');const t=Math.floor($("#face-1").width()/3-4),l=Math.floor($("#face-1").height()/3-4),o=["white","green","red","blue","yellow","orange"];for(let n=0;n<6;n++)for(let a=0;a<9;a++){$("#face-"+n).append(`<canvas id="block-${9*n+a}" width="${t}px" height="${l}px" class="cube-block"></canvas>`);let i=document.getElementById("block-"+(9*n+a)),r=i.getContext("2d");r.fillStyle=o[n],r.fillRect(0,0,t,l);const d=9*n+a;r.fillStyle="black",r.font="20px Georgia",r.fillText(d.toString(),20,20),e.push(i)}return e};const playSound=(e,t)=>{const l=new(window.AudioContext||window.webkitAudioContext),o=l.createOscillator();o.type="sine",o.frequency.setValueAtTime(e,l.currentTime),o.connect(l.destination),o.start(),setTimeout(()=>{o.stop()},t)},currentBlindState=[0,0,0,0,0,0],braille=[];braille[1]="a",braille[3]="b",braille[9]="c",braille[25]="d",braille[17]="e",braille[11]="f",braille[27]="g",braille[19]="h",braille[10]="i",braille[26]="j",braille[5]="k",braille[7]="l",braille[13]="m",braille[29]="n",braille[21]="o",braille[15]="p",braille[31]="q",braille[23]="r",braille[14]="s",braille[30]="t",braille[37]="u",braille[39]="v",braille[58]="w",braille[45]="x",braille[61]="y",braille[53]="z",$(".blind-dot").on("click",(function(e){const t=parseInt(e.target.dataset.index);currentBlindState[t]?e.target.style.backgroundColor="":e.target.style.backgroundColor="black",currentBlindState[t]^=1;let l=0;for(let e=0;e<6;e++)l+=currentBlindState[e]*(1<<e);console.info(l),$("#blind-letter").text(braille[l]??"Unknown")}));const confirmBlind=()=>{$("#history-blind-area").append($("#demo-blind-letter").clone())}</script>

		
	</body>
</html>